# 第五章 数值类型：浮点型

![](/assets/本书数据类型总结逻辑结构.png)

* ## 定义

带小数点的数据类型

* ## 特性

python对于浮点型数据计算的精确度不够高，所以在处理要求精确度很高的程序的时候注意对浮点类型数据特殊处理。下面会讲到如何处理。

* ## 声明
* ### 声明方式1:直接把浮点型数据赋值给变量

&gt;&gt;&gt; x = 3.14e5 \#3.14\*10的5次方

&gt;&gt;&gt; x

314000.0

* ### 声明方式2:使用float\(\)函数转换

&gt;&gt;&gt; float\(True\)

1.0

&gt;&gt;&gt; float\(False\)

0.0

&gt;&gt;&gt; float\(98\)

98.0

&gt;&gt;&gt; float\('99'\)

99.0

&gt;&gt;&gt; float\('98.0'\) \#将包含有效浮点数的字符串转换为真正的浮点型数字

98.0

* ## 特有操作
* **内置函数round\(\):四舍五入**

注意：要留意哪些是内置函数，哪些来自于模块；内置函数在使用的过程中无需调用，直接使用；来自模块的函数，需要先调用模块，

然后使用模块.函数\(\)的形式使用函数。

&gt;&gt;&gt; x = float\('89.890'\)

&gt;&gt;&gt; round\(x\)

90

* **工具模块**

1）math模块的floor\(\)函数:向下取整数，即坐标轴方向总是往左取值；对于正数来说只保留整数部分，对于负数来说，取比其小的负数（向下取值）

&gt;&gt;&gt; import math

&gt;&gt;&gt; math.floor\(22 / 7\)

3

&gt;&gt;&gt; math.floor\(3.99\)

3

&gt;&gt;&gt; math.floor\(-3.8\)

-4

2）math模块的trunc\(\)函数：坐标轴方向总是往0的方向取值。

&gt;&gt;&gt; math.trunc\(3.9\)

3

&gt;&gt;&gt; math.trunc\(-3.3\)

-3

3）math模块的ceil\(\)函数：向上取整数

&gt;&gt;&gt; math.ceil\(3.14\)

4

&gt;&gt;&gt; math.pi

&gt;&gt;&gt; pow\(2\) \#平方

4

&gt;&gt;&gt; math.sqrt\(144\) \#开平方

12

4）decimal模块：处理更高精度浮点型的模块，其中有一个类Decimal。为什么会有这样一个模块呢？

&gt;&gt;&gt; 0.1 + 0.1 + 0.1 - 0.3

5.551115123125783e-17

**a. 虽然上面的结果无限小，几乎为0，但是在某些要求精度比较高的领域比如财经，这明显不是我们想要的结果。那怎么处理呢？**

**我们可以使用decimal模块里的Decimal类来处理。**

&gt;&gt;&gt; import decimal \#首先要导入模块

&gt;&gt;&gt; x = decimal.Decimal\('0.1'\) + decimal.Decimal\('0.1'\) + decimal.Decimal\('0.1'\) - decimal.Decimal\('0.3'\)

&gt;&gt;&gt; print\(x\)

0.0

**b. 注意Decimal类中参数是以字符串的形式传递给类中的函数的。**

**c. 如果你觉得在写代码的时候这样太啰嗦，可以通过直接导入模块中的类来处理**

&gt;&gt;&gt; from decimal import Decimal

&gt;&gt;&gt; Decimal\('0.1'\) + Decimal\('0.1'\)

Decimal\('0.3'\)

**d. 显然，这样的结果可能并不是我们常见的，如果想要输出想见到的形式，可以通过上面把结果赋值给一个变量，然后通过print输出。**

**e. 另一个需要注意的是，在传递参数的时候一定是通过字符串的形式传递，如果直接把浮点值传递给Decimal的话，可能不会报错，但是结果通常也并不是我们想要的。**

你可以试一下看看如下结果。

&gt;&gt;&gt; Decimal\(0.1\) + Decimal\(0.1\) + Decimal\(0.1\) - Decimal\(0.3\)

**总结：这也就说明python中对于浮点型的存储是有缺陷的，所以一定要注意，要求精度高的情况下用decimal模块来处理。**

