# 第九章 字符串

* ## 定义

在python中用单引号' '或者双引号“ ”标注的数据类型都是字符串。

* ## 特性

这里需要注意的是：在任何地方用到字符串的时候都要用单引号‘ ’或者双引号” “标注

* ## 声明

### 声明方式1:直接把字符串赋值给变量

&gt;&gt;&gt; s = ''

&gt;&gt;&gt; s

''

&gt;&gt;&gt; name = 'Tom'

&gt;&gt;&gt; name

'Tom'

&gt;&gt;&gt; word = "what's your name?"

&gt;&gt;&gt; word

"what's your name?"

&gt;&gt;&gt; s = 'abcd"efg'

&gt;&gt;&gt; s

'abcd"efg'

&gt;&gt;&gt; s = """

youpinketang

www.codeclassroom.com

www.peixun.io

"""

&gt;&gt;&gt; s

'\nyoupinketang\nwww.codeclassroom.com\nwww.peixun.io\n'

&gt;&gt;&gt; print\(s\)

youpinketang

www.codeclassroom.com

www.peixun.io

这里解释一下，在声明字符串的时候单引号‘ ’和双引号“ ”，以及转义字符之间的关系和用法

**1）如果字符串只包含单引号或者双引号其中一种，那用哪种都可以；比如：‘mydog’, "my name is olivia"**

**2）如果字符串内容中包含单引号或者双引号其中一种的话，字符串本身的声明符号建议用另一种；比如：“what's is you name” ，‘ab"cd’**

**3）如果只想使用一种引号的话，可以用转义字符\声明，比如：‘\' do you know \' ’**

**4）三元引号“”“ ”“” 也可以声明字符串，声明的是多行字符串**

**5）在声明字符的时候，\的出现总会被理解成和后面字符形成转义字符。如果就想单纯打印\有2种方法：**

**a. 第一种方法：\**

&gt;&gt;&gt; path = "c:\abc\xyz\tag.txt"

&gt;&gt;&gt; path

'c:\abc\xyz\tag.txt'

&gt;&gt;&gt; print\(path\)

c:\abc\xyz\tag.txt

**b. 在声明字符串的时候前面加一个r，代表忽略转义字符**

&gt;&gt;&gt; path = r"c:\abc\xyz\tag.txt"

&gt;&gt;&gt; path

'c:\abc\xyz\tag.txt'

&gt;&gt;&gt; print\(path\)

c:\abc\xyz\tag.txt

这里要注意发现，python实际保存的字符串形式和print打印出来的有区别。

**6）\n 换行转义字符，\t tab空格，\a响铃，\b退格，\r回车，\"转义双引号，\'转义单引号，\？转义问号，\0 空字符，\o声明八进制字符，\x声明十六进制字符**

&gt;&gt;&gt; s = 'youpin\nwww.codeclassroom.com'

&gt;&gt;&gt; s

'youpin\nwww.codeclassroom.com'

&gt;&gt;&gt; print\(s\)

youpin

www.codeclassroom.com

&gt;&gt;&gt; s = 'youpin\tpeixun.io'

&gt;&gt;&gt; s

'youpin\tpeixun.io'

&gt;&gt;&gt; print\(s\)

youpin    peixun.io

&gt;&gt;&gt; word = "what's your name?"

&gt;&gt;&gt; word

"what's your name?"

&gt;&gt;&gt; print\(word\)

what's your name?

&gt;&gt;&gt; word = 'what\'s your name?'

&gt;&gt;&gt; word

"what's your name?"

&gt;&gt;&gt; print\(word\)

what's your name?

**7）s = b‘ASCII码’ b表示后面的字符串是以字节的形式表示的**

&gt;&gt;&gt; '优品课堂'.encode\(\)

b'\xe4\xbc\x98\xe5\x93\x81\xe8\xaf\xbe\xe5\xa0\x82'

&gt;&gt;&gt; s1 = '优品课堂'.encode\(\)

&gt;&gt;&gt; s1.decode\(\)

'优品课堂'

**其中 非字节字符串.encode\(\) 方法可以得到该字符串的字节形式**

**字节字符串.decode\(\) 方法可以得到该字节形式的非字节表达字符串**

### 声明方式2:使用字符串转换全局函数 str\(\)

&gt;&gt;&gt; '33' + str\(5\)

'335'

* # 通用操作

### 1）判断元素是否在字符串内，x in s， x not in s，返回布尔值

&gt;&gt;&gt; s = 'abcdefg'

&gt;&gt;&gt; s

'abcdefg'

&gt;&gt;&gt; 'c' in s

True

&gt;&gt;&gt; 'x' in s

False

### 2）连接字符串

&gt;&gt;&gt; 'youpin' + 'ketang'

'youpinketang'

&gt;&gt;&gt; s1 = 'youpin''ketang'

&gt;&gt;&gt; s1

'youpinketang'

&gt;&gt;&gt; s1 = 'my name'

&gt;&gt;&gt; s2 = 'is olivia'

&gt;&gt;&gt; s1 + s2

'my nameis olivia'

&gt;&gt;&gt; s1

'my name'

&gt;&gt;&gt; s2

'is olivia'

&gt;&gt;&gt; s1 = s1 + s2

&gt;&gt;&gt; s1

'my nameis olivia'

&gt;&gt;&gt; s2

'is olivia'

**这里要注意：连接运行之后返回的是一个新的字符串，原字符串并没有被改变；**

**若想要改变原字符串，可通过赋值的过程改变，这样也与字符串不可变不冲突，因为赋值的过程是指向不同引用的过程，并非改变原字符串。**

### 3）重复字符串元素，s\*n，n代表数字

&gt;&gt;&gt; "my name is olivia"\*2

'my name is oliviamy name is olivia'

&gt;&gt;&gt; s1 = 'dog'

&gt;&gt;&gt; s1\*3

'dogdogdog'

&gt;&gt;&gt; s1

'dog'

&gt;&gt;&gt; s1 = s1\*3

&gt;&gt;&gt; s1

'dogdogdog'

**重复字符串的操作，运行之后直接返回一个新字符串，原字符串并为被改变。**

### 4）通过偏移量访问字符串元素，-1代表最后一个元素

&gt;&gt;&gt; url = 'www.codeclassroom.com'

&gt;&gt;&gt; url\[0\]

'w'

&gt;&gt;&gt; url\[-1\]

'm'

&gt;&gt;&gt; url\[:\]

'www.codeclassroom.com'

&gt;&gt;&gt; url\[4:\]

'codeclassroom.com'

&gt;&gt;&gt; url\[::3\]

'w.dlsoc'

&gt;&gt;&gt; url = url\[::3\]

&gt;&gt;&gt; url

'w.dlsoc'

### 5）通过偏移量，访问子字符串，形式：字符串变量\[start:end:step\]

### 6）获取字符串长度 len\(字符串变量\)

&gt;&gt;&gt; url

'w.dlsoc'

&gt;&gt;&gt; len\(url\)

7

### 7）获取最大、最小值、总和：min\(s\), max\(s\)，sum\(s\) 前提：字符串元素具有可比较性

&gt;&gt;&gt; url

'w.dlsoc'

&gt;&gt;&gt; min\(url\)

'.'

&gt;&gt;&gt; max\(url\)

'w'

&gt;&gt;&gt; sum\(url\)

Traceback \(most recent call last\):

File "&lt;pyshell\#327&gt;", line 1, in &lt;module&gt;

```
sum\(url\)
```

TypeError: unsupported operand type\(s\) for +: 'int' and 'str'

&gt;&gt;&gt; url = '12345'

&gt;&gt;&gt; sum\(url\)

Traceback \(most recent call last\):

File "&lt;pyshell\#329&gt;", line 1, in &lt;module&gt;

```
sum\(url\)
```

TypeError: unsupported operand type\(s\) for +: 'int' and 'str'

**字符串变量不支持 sum\(\)方法**

### 8）方法 s.index\(元素名\) 检索某个元素的第一个位置的偏移量

&gt;&gt;&gt; url

'12345'

&gt;&gt;&gt; url.index\('2'\)

1

### 9）方法 s.count\(元素名\) 计算某个元素出现在序列里的次数

&gt;&gt;&gt; url

'12345'

&gt;&gt;&gt; url.count\('4'\)

1

**注意，对于不存在的元素，count不会报错，会返回0**

&gt;&gt;&gt; url

'12345'

&gt;&gt;&gt; url.count\('4'\)

1

&gt;&gt;&gt; url.count\('x'\)

0

